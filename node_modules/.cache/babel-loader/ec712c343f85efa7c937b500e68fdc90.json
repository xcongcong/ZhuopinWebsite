{"ast":null,"code":"import ajax from './ajax';\nimport jsonp from 'jsonp'; //const取名字\n\nexport const reqLogin = (username, password) => ajax('/login', {\n  username,\n  password\n}, 'POST'); //请求登陆\n//获取所有角色的列表\n//jsonp请求,只能get请求 ，可以跨域不用配置代理\n\nexport const reqWeather = city => {\n  return new Promise((resolve, reject) => {\n    const url = `//restapi.amap.com/v3/weather/weatherInfo?key=c53b1f4884bd23213e91e1b1d34cf8e6&city=${city}`;\n    jsonp(url, {}, (err, data) => {\n      console.log(err, data.lives[0]); //成功了取出数据\n\n      if (!err) {\n        const {\n          weather,\n          city\n        } = data.lives[0];\n        resolve({\n          weather,\n          city\n        });\n      } else {//天气请求失败\n      }\n    });\n  });\n};","map":{"version":3,"sources":["D:/前端项目/尚阳互动官网/official-website/src/api/index.js"],"names":["ajax","jsonp","reqLogin","username","password","reqWeather","city","Promise","resolve","reject","url","err","data","console","log","lives","weather"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,QAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CAEA;;AACA,OAAO,MAAMC,QAAQ,GAAG,CAACC,QAAD,EAAUC,QAAV,KAAqBJ,IAAI,CAAC,QAAD,EAAU;AAACG,EAAAA,QAAD;AAAUC,EAAAA;AAAV,CAAV,EAA8B,MAA9B,CAA1C,C,CAAiF;AAGxF;AAEA;;AACA,OAAO,MAAMC,UAAU,GAAGC,IAAD,IAAQ;AAC7B,SAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAASC,MAAT,KAAkB;AACjC,UAAMC,GAAG,GAAG,uFAAsFJ,IAAK,EAAvG;AACAL,IAAAA,KAAK,CAACS,GAAD,EAAK,EAAL,EAAQ,CAACC,GAAD,EAAKC,IAAL,KAAY;AACrBC,MAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ,EAAgBC,IAAI,CAACG,KAAL,CAAW,CAAX,CAAhB,EADqB,CAErB;;AACA,UAAG,CAACJ,GAAJ,EAAQ;AACJ,cAAM;AAACK,UAAAA,OAAD;AAASV,UAAAA;AAAT,YAAgBM,IAAI,CAACG,KAAL,CAAW,CAAX,CAAtB;AACAP,QAAAA,OAAO,CAAC;AAACQ,UAAAA,OAAD;AAASV,UAAAA;AAAT,SAAD,CAAP;AACH,OAHD,MAGK,CACD;AACH;AACJ,KATI,CAAL;AAUH,GAZM,CAAP;AAcH,CAfM","sourcesContent":["import ajax from './ajax'\r\nimport jsonp from 'jsonp'\r\n\r\n//const取名字\r\nexport const reqLogin = (username,password)=>ajax('/login',{username,password},'POST')  //请求登陆\r\n\r\n\r\n//获取所有角色的列表\r\n\r\n//jsonp请求,只能get请求 ，可以跨域不用配置代理\r\nexport const reqWeather =(city)=>{\r\n    return new Promise((resolve,reject)=>{\r\n        const url =`//restapi.amap.com/v3/weather/weatherInfo?key=c53b1f4884bd23213e91e1b1d34cf8e6&city=${city}`\r\n        jsonp(url,{},(err,data)=>{\r\n            console.log(err,data.lives[0])\r\n            //成功了取出数据\r\n            if(!err){\r\n                const {weather,city} =data.lives[0]\r\n                resolve({weather,city})\r\n            }else{\r\n                //天气请求失败\r\n            }\r\n        })\r\n    })\r\n    \r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}