{"ast":null,"code":"import ajax from './ajax';\nimport jsonp from 'jsonp';\nconst BASE = ''; //const取名字\n\nexport const reqLogin = (username, password) => ajax('/login', {\n  username,\n  password\n}, 'POST'); //请求登陆\n//获取所有角色的列表----------------角色管理组件使用\n\nexport const reqRoles = () => ajax(BASE + '/manage/role/list'); //品类管理，获取一级分类或二级分类列表\n\nexport const reqCategorys = parentld => ajax('/manage/category/list', {\n  parentld\n}, 'GET'); //添加分类\n\nexport const reqAddCategory = (categoryName, parentld) => ajax('/manage/category/add', {\n  categoryName,\n  parentld\n}, 'POST'); //跟新分类\n\nexport const reqUpdateCategory = (categoryName, parentld) => ajax('/manage/category/update', {\n  categoryId,\n  categoryName\n}, 'POST'); //jsonp请求,只能get请求 ，可以跨域不用配置代理\n\nexport const reqWeather = city => {\n  return new Promise((resolve, reject) => {\n    const url = `//restapi.amap.com/v3/weather/weatherInfo?key=c53b1f4884bd23213e91e1b1d34cf8e6&city=${city}`;\n    jsonp(url, {}, (err, data) => {\n      console.log(err, data.lives[0]); //成功了取出数据\n\n      if (!err) {\n        const {\n          weather,\n          city\n        } = data.lives[0];\n        resolve({\n          weather,\n          city\n        });\n      } else {//天气请求失败\n      }\n    });\n  });\n};","map":{"version":3,"sources":["D:/前端项目/尚阳互动官网/official-website/src/api/index.js"],"names":["ajax","jsonp","BASE","reqLogin","username","password","reqRoles","reqCategorys","parentld","reqAddCategory","categoryName","reqUpdateCategory","categoryId","reqWeather","city","Promise","resolve","reject","url","err","data","console","log","lives","weather"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,QAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,MAAMC,IAAI,GAAC,EAAX,C,CAEA;;AACA,OAAO,MAAMC,QAAQ,GAAG,CAACC,QAAD,EAAUC,QAAV,KAAqBL,IAAI,CAAC,QAAD,EAAU;AAACI,EAAAA,QAAD;AAAUC,EAAAA;AAAV,CAAV,EAA8B,MAA9B,CAA1C,C,CAAiF;AAGxF;;AACA,OAAO,MAAMC,QAAQ,GAAE,MAAIN,IAAI,CAACE,IAAI,GAAC,mBAAN,CAAxB,C,CAEP;;AACA,OAAO,MAAMK,YAAY,GAAIC,QAAD,IAAYR,IAAI,CAAC,uBAAD,EAAyB;AAACQ,EAAAA;AAAD,CAAzB,EAAoC,KAApC,CAArC,C,CACP;;AACA,OAAO,MAAMC,cAAc,GAAE,CAACC,YAAD,EAAcF,QAAd,KAAyBR,IAAI,CAAC,sBAAD,EAAwB;AAACU,EAAAA,YAAD;AAAcF,EAAAA;AAAd,CAAxB,EAAgD,MAAhD,CAAnD,C,CACP;;AACA,OAAO,MAAMG,iBAAiB,GAAE,CAACD,YAAD,EAAcF,QAAd,KAAyBR,IAAI,CAAC,yBAAD,EAA2B;AAACY,EAAAA,UAAD;AAAYF,EAAAA;AAAZ,CAA3B,EAAqD,MAArD,CAAtD,C,CAIP;;AACA,OAAO,MAAMG,UAAU,GAAGC,IAAD,IAAQ;AAC7B,SAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAASC,MAAT,KAAkB;AACjC,UAAMC,GAAG,GAAG,uFAAsFJ,IAAK,EAAvG;AACAb,IAAAA,KAAK,CAACiB,GAAD,EAAK,EAAL,EAAQ,CAACC,GAAD,EAAKC,IAAL,KAAY;AACrBC,MAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ,EAAgBC,IAAI,CAACG,KAAL,CAAW,CAAX,CAAhB,EADqB,CAErB;;AACA,UAAG,CAACJ,GAAJ,EAAQ;AACJ,cAAM;AAACK,UAAAA,OAAD;AAASV,UAAAA;AAAT,YAAgBM,IAAI,CAACG,KAAL,CAAW,CAAX,CAAtB;AACAP,QAAAA,OAAO,CAAC;AAACQ,UAAAA,OAAD;AAASV,UAAAA;AAAT,SAAD,CAAP;AACH,OAHD,MAGK,CACD;AACH;AACJ,KATI,CAAL;AAUH,GAZM,CAAP;AAcH,CAfM","sourcesContent":["import ajax from './ajax'\r\nimport jsonp from 'jsonp'\r\nconst BASE=''\r\n\r\n//const取名字\r\nexport const reqLogin = (username,password)=>ajax('/login',{username,password},'POST')  //请求登陆\r\n\r\n\r\n//获取所有角色的列表----------------角色管理组件使用\r\nexport const reqRoles =()=>ajax(BASE+'/manage/role/list')\r\n\r\n//品类管理，获取一级分类或二级分类列表\r\nexport const reqCategorys = (parentld)=>ajax('/manage/category/list',{parentld},'GET')\r\n//添加分类\r\nexport const reqAddCategory =(categoryName,parentld)=>ajax('/manage/category/add',{categoryName,parentld},'POST')\r\n//跟新分类\r\nexport const reqUpdateCategory =(categoryName,parentld)=>ajax('/manage/category/update',{categoryId,categoryName},'POST')\r\n\r\n\r\n\r\n//jsonp请求,只能get请求 ，可以跨域不用配置代理\r\nexport const reqWeather =(city)=>{\r\n    return new Promise((resolve,reject)=>{\r\n        const url =`//restapi.amap.com/v3/weather/weatherInfo?key=c53b1f4884bd23213e91e1b1d34cf8e6&city=${city}`\r\n        jsonp(url,{},(err,data)=>{\r\n            console.log(err,data.lives[0])\r\n            //成功了取出数据\r\n            if(!err){\r\n                const {weather,city} =data.lives[0]\r\n                resolve({weather,city})\r\n            }else{\r\n                //天气请求失败\r\n            }\r\n        })\r\n    })\r\n    \r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}