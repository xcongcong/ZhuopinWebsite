{"ast":null,"code":"import\"antd/es/button/style/css\";import _Button from\"antd/es/button\";import\"antd/es/form/style/css\";import _Form from\"antd/es/form\";import\"antd/es/input/style/css\";import _Input from\"antd/es/input\";import\"antd/es/message/style/css\";import _message from\"antd/es/message\";import _classCallCheck from\"D:/\\u524D\\u7AEF\\u9879\\u76EE/\\u5C1A\\u9633\\u4E92\\u52A8\\u5B98\\u7F51/official-website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/\\u524D\\u7AEF\\u9879\\u76EE/\\u5C1A\\u9633\\u4E92\\u52A8\\u5B98\\u7F51/official-website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"D:/\\u524D\\u7AEF\\u9879\\u76EE/\\u5C1A\\u9633\\u4E92\\u52A8\\u5B98\\u7F51/official-website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/\\u524D\\u7AEF\\u9879\\u76EE/\\u5C1A\\u9633\\u4E92\\u52A8\\u5B98\\u7F51/official-website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import'./index.css';import close from'./images/guanbi.png';import PubSub from'pubsub-js';//引入发布消息\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(){var _this;_classCallCheck(this,Login);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={data:''};_this.CloseLogin=function(){// alert('关闭')\nPubSub.publish('Close-login',false);//发布消息\n};_this.onFinish=function(values){//表单验证成功的回调\n// console.log('Success:', values);\nconsole.log(values);_message.success('登陆成功');//replace跳转到页面\n_this.state.data.history.replace('/admin');};_this.onFinishFailed=function(errorInfo){console.log(errorInfo);_message.error('登陆出错,请重试');};return _this;}_createClass(Login,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;PubSub.subscribe('tiaozhuan',function(msg,data){_this2.setState({data:data});});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{className:\"login-bg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-content\",children:[/*#__PURE__*/_jsx(\"img\",{src:close,alt:\"guanbi\",onClick:this.CloseLogin}),/*#__PURE__*/_jsx(\"h2\",{children:\"\\u7528\\u6237\\u767B\\u9646\"}),/*#__PURE__*/_jsxs(_Form,{// layout='inline'\nlabelAlign:\"left\",name:\"basic\",labelCol:{span:7},wrapperCol:{span:20},initialValues:{remember:true},onFinish:this.onFinish,onFinishFailed:this.onFinishFailed,autoComplete:\"off\",children:[/*#__PURE__*/_jsx(_Form.Item,{label:\"\\u8D26\\u6237\",name:\"username\",rules:[{required:true,message:'请输入您的用户名!'}],children:/*#__PURE__*/_jsx(_Input,{})}),/*#__PURE__*/_jsx(_Form.Item,{label:\"\\u5BC6\\u7801\",name:\"password\",rules:[{required:true,message:'请输入您的密码!'}],children:/*#__PURE__*/_jsx(_Input.Password,{})}),/*#__PURE__*/_jsx(_Form.Item,{wrapperCol:{offset:8,span:16},children:/*#__PURE__*/_jsx(_Button,{type:\"primary\",htmlType:\"submit\",className:\"login-form-button\",children:\"\\u767B\\u9646\"})})]})]})});}}]);return Login;}(Component);export{Login as default};","map":{"version":3,"sources":["D:/前端项目/尚阳互动官网/official-website/src/components/login/index.jsx"],"names":["React","Component","close","PubSub","Login","state","data","CloseLogin","publish","onFinish","values","console","log","success","history","replace","onFinishFailed","errorInfo","error","subscribe","msg","setState","span","remember","required","message","offset"],"mappings":"8hCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CAEA,MAAO,aAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,qBAAlB,CAEA,MAAOC,CAAAA,MAAP,KAAmB,WAAnB,CAA+B;2FAEVC,CAAAA,K,uTACTC,K,CAAQ,CACJC,IAAI,CAAC,EADD,C,OAURC,U,CAAW,UAAI,CACX;AACAJ,MAAM,CAACK,OAAP,CAAe,aAAf,CAA6B,KAA7B,EAAsC;AACzC,C,OAEDC,Q,CAAW,SAACC,MAAD,CAAY,CAAI;AACvB;AACAC,OAAO,CAACC,GAAR,CAAYF,MAAZ,EACA,SAAQG,OAAR,CAAgB,MAAhB,EACA;AACA,MAAKR,KAAL,CAAWC,IAAX,CAAgBQ,OAAhB,CAAwBC,OAAxB,CAAgC,QAAhC,EACH,C,OAEDC,c,CAAiB,SAACC,SAAD,CAAe,CAC5BN,OAAO,CAACC,GAAR,CAAYK,SAAZ,EACA,SAAQC,KAAR,CAAc,UAAd,EACH,C,kEAvBD,4BAAmB,iBACff,MAAM,CAACgB,SAAP,CAAiB,WAAjB,CAA6B,SAACC,GAAD,CAAKd,IAAL,CAAY,CACjC,MAAI,CAACe,QAAL,CAAc,CAACf,IAAI,CAAJA,IAAD,CAAd,EAEP,CAHD,EAIH,C,sBAqBT,iBAAS,CACL,mBACI,YAAK,SAAS,CAAC,UAAf,uBACI,aAAK,SAAS,CAAC,eAAf,wBACI,YAAK,GAAG,CAAEJ,KAAV,CAAiB,GAAG,CAAC,QAArB,CAA8B,OAAO,CAAE,KAAKK,UAA5C,EADJ,cAEI,gDAFJ,cAGI,aACI;AACA,UAAU,CAAC,MAFf,CAGI,IAAI,CAAC,OAHT,CAII,QAAQ,CAAE,CACNe,IAAI,CAAE,CADA,CAJd,CAOI,UAAU,CAAE,CACRA,IAAI,CAAE,EADE,CAPhB,CAUI,aAAa,CAAE,CACXC,QAAQ,CAAE,IADC,CAVnB,CAaI,QAAQ,CAAE,KAAKd,QAbnB,CAcI,cAAc,CAAE,KAAKO,cAdzB,CAeI,YAAY,CAAC,KAfjB,wBAiBQ,WAAM,IAAN,EACI,KAAK,CAAC,cADV,CAEI,IAAI,CAAC,UAFT,CAGI,KAAK,CAAE,CACP,CACIQ,QAAQ,CAAE,IADd,CAEIC,OAAO,CAAE,WAFb,CADO,CAHX,uBAUI,eAVJ,EAjBR,cA8BQ,WAAM,IAAN,EACI,KAAK,CAAC,cADV,CAEI,IAAI,CAAC,UAFT,CAGI,KAAK,CAAE,CACP,CACID,QAAQ,CAAE,IADd,CAEIC,OAAO,CAAE,UAFb,CADO,CAHX,uBAUI,YAAO,QAAP,IAVJ,EA9BR,cA6CQ,WAAM,IAAN,EACI,UAAU,CAAE,CACZC,MAAM,CAAE,CADI,CAEZJ,IAAI,CAAE,EAFM,CADhB,uBAMI,cAAQ,IAAI,CAAC,SAAb,CAAuB,QAAQ,CAAC,QAAhC,CAAyC,SAAS,CAAC,mBAAnD,0BANJ,EA7CR,GAHJ,GADJ,EADJ,CAiEH,C,mBAhG8BrB,S,SAAdG,K","sourcesContent":["import React, { Component } from 'react'\r\nimport { Form, Input, Button, Checkbox,message } from 'antd';\r\nimport './index.css'\r\nimport close from './images/guanbi.png'\r\n\r\nimport PubSub from 'pubsub-js' //引入发布消息\r\n\r\nexport default class Login extends Component {\r\n            state = {\r\n                data:'',\r\n            }\r\n            componentDidMount(){\r\n                PubSub.subscribe('tiaozhuan',(msg,data)=>{\r\n                        this.setState({data})\r\n                        \r\n                })\r\n            }\r\n\r\n            CloseLogin=()=>{\r\n                // alert('关闭')\r\n                PubSub.publish('Close-login',false);  //发布消息\r\n            }\r\n\r\n            onFinish = (values) => {   //表单验证成功的回调\r\n                // console.log('Success:', values);\r\n                console.log(values)\r\n                message.success('登陆成功')\r\n                //replace跳转到页面\r\n                this.state.data.history.replace('/admin')\r\n            };\r\n\r\n            onFinishFailed = (errorInfo) => {\r\n                console.log(errorInfo)\r\n                message.error('登陆出错,请重试')\r\n            };\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"login-bg\">\r\n                <div className=\"login-content\">\r\n                    <img src={close} alt=\"guanbi\" onClick={this.CloseLogin}/>\r\n                    <h2>用户登陆</h2>\r\n                    <Form\r\n                        // layout='inline'\r\n                        labelAlign='left'\r\n                        name=\"basic\"\r\n                        labelCol={{\r\n                            span: 7,\r\n                        }}\r\n                        wrapperCol={{\r\n                            span: 20,\r\n                        }}\r\n                        initialValues={{\r\n                            remember: true,\r\n                        }}\r\n                        onFinish={this.onFinish}\r\n                        onFinishFailed={this.onFinishFailed}\r\n                        autoComplete=\"off\"\r\n                        >\r\n                            <Form.Item\r\n                                label=\"账户\"\r\n                                name=\"username\"\r\n                                rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message: '请输入您的用户名!',\r\n                                },\r\n                                ]}\r\n                            >\r\n                                <Input />\r\n                            </Form.Item>\r\n\r\n                            <Form.Item\r\n                                label=\"密码\"\r\n                                name=\"password\"\r\n                                rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message: '请输入您的密码!',\r\n                                },\r\n                                ]}\r\n                            >\r\n                                <Input.Password />\r\n                            </Form.Item>\r\n\r\n\r\n\r\n                            <Form.Item\r\n                                wrapperCol={{\r\n                                offset: 8,\r\n                                span: 16,\r\n                                }}\r\n                            >\r\n                                <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">\r\n                                    登陆\r\n                                </Button>\r\n                            </Form.Item>\r\n                        </Form>\r\n                </div>\r\n            </div>\r\n            \r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}