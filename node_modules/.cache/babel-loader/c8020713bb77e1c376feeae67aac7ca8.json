{"ast":null,"code":"import \"antd/es/modal/style/css\";\nimport _Modal from \"antd/es/modal\";\nvar _jsxFileName = \"D:\\\\\\u524D\\u7AEF\\u9879\\u76EE\\\\\\u5C1A\\u9633\\u4E92\\u52A8\\u5B98\\u7F51\\\\official-website\\\\src\\\\components\\\\admin-header\\\\index.jsx\";\nimport React, { Component } from 'react';\nimport './index.css';\nimport { reqWeather } from '../../api/index';\nimport { formateDate } from '../../utils/dateUtils';\nimport storageUtils from '../../utils/storageUtils';\nimport { Redirect } from 'react-router-dom';\nimport PubSub from 'pubsub-js'; //引入发布消息\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Headernav extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data: '',\n      //props对象\n      currentTime: formateDate(Date.now()),\n      //当前时间字符串格式\n      wethercity: '',\n      weather: '',\n      WeatherImg: ''\n    };\n\n    this.logout = () => {\n      //用户退出登陆功能\n      const {\n        confirm\n      } = _Modal;\n      confirm({\n        title: '是否要确认退出?',\n        // icon: <ExclamationCircleOutlined />,\n        // content: 'Some descriptions',\n        onOk: () => {\n          console.log('OK', this); // storageUtils.removeUser()\n          // this.props.history.replace('/')\n        },\n\n        onCancel() {}\n\n      });\n    };\n\n    this.getTime = () => {\n      setInterval(() => {\n        //每隔一秒获取时间并跟新状态数据\n        const currentTime = formateDate(Date.now());\n        this.setState({\n          currentTime\n        });\n      }, 1000);\n    };\n\n    this.getWeather = async () => {\n      const result = await reqWeather(510100);\n      this.setState({\n        weather: result.weather\n      }); //跟新天气状态\n\n      this.setState({\n        wethercity: result.city\n      }); // console.log('我是天气',weather)\n    };\n  }\n\n  componentDidMount() {\n    //组件挂载时\n    this.getTime();\n    this.getWeather();\n    PubSub.subscribe('tiaozhuan2', (msg, data) => {// this.setState({data})\n    });\n  }\n\n  componentWillUnmount() {//组件卸载时\n  }\n\n  render() {\n    const {\n      currentTime,\n      weather,\n      wethercity\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-top\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\u6B22\\u8FCE:admin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"javascript:\",\n          onClick: this.logout,\n          children: \"\\u9000\\u51FA\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-bottom\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header-bottom-left\",\n          children: \"\\u9996\\u9875\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header-bottom-right\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: currentTime\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: wethercity\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            width: \"16\",\n            height: \"16\",\n            fill: \"currentColor\",\n            class: \"qi-301\",\n            viewBox: \"0 0 16 16\",\n            children: [/*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M7.012 14.985a1 1 0 0 0 2 0 6.605 6.605 0 0 0-1-2 6.605 6.605 0 0 0-1 2zM3.959 14a1 1 0 0 0 2 0 6.605 6.605 0 0 0-1-2 6.605 6.605 0 0 0-1 2zm6.028 0a1 1 0 0 0 2 0 6.605 6.605 0 0 0-1-2 6.605 6.605 0 0 0-1 2zM5.207 1.904h.007a.5.5 0 0 0 .493-.506L5.695.494a.5.5 0 0 0-.5-.494h-.007a.5.5 0 0 0-.493.506l.012.905a.5.5 0 0 0 .5.493zm-2.892.946a.5.5 0 1 0 .698-.716l-.648-.63a.5.5 0 1 0-.697.715zm-.179 2.203a.5.5 0 0 0-.5-.493h-.007l-.905.011a.5.5 0 0 0 .007 1h.007l.904-.011a.5.5 0 0 0 .494-.507zm5.638-2.12a.5.5 0 0 0 .359-.151l.63-.648a.5.5 0 0 0-.716-.698l-.631.648a.5.5 0 0 0 .358.849z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 143\n            }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M12.028 5.579a2.927 2.927 0 0 0-.37.037 4.364 4.364 0 0 0-7.316 0 2.926 2.926 0 0 0-.37-.037 2.972 2.972 0 1 0 1.16 5.709 4.302 4.302 0 0 0 5.735 0 2.972 2.972 0 1 0 1.16-5.71zm0 4.944a1.959 1.959 0 0 1-.77-.156 1 1 0 0 0-1.05.168 3.303 3.303 0 0 1-4.417 0 1 1 0 0 0-1.05-.168 1.972 1.972 0 1 1-.769-3.788 1.077 1.077 0 0 1 .15.017l.095.012a1 1 0 0 0 .962-.444 3.364 3.364 0 0 1 5.642 0 1 1 0 0 0 .962.444l.095-.012a1.08 1.08 0 0 1 .15-.017 1.972 1.972 0 1 1 0 3.944zM2.482 5.315A3.53 3.53 0 0 1 3.5 5.027a1.831 1.831 0 0 1 1.81-1.603 1.81 1.81 0 0 1 .553.095 4.933 4.933 0 0 1 1.281-.405A2.82 2.82 0 0 0 2.476 5.26c0 .02.006.037.006.056z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 741\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: weather\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["D:/前端项目/尚阳互动官网/official-website/src/components/admin-header/index.jsx"],"names":["React","Component","reqWeather","formateDate","storageUtils","Redirect","PubSub","Headernav","state","data","currentTime","Date","now","wethercity","weather","WeatherImg","logout","confirm","title","onOk","console","log","onCancel","getTime","setInterval","setState","getWeather","result","city","componentDidMount","subscribe","msg","componentWillUnmount","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport './index.css'\r\nimport { reqWeather } from '../../api/index'\r\nimport { formateDate } from '../../utils/dateUtils'\r\nimport storageUtils from '../../utils/storageUtils'\r\nimport {Redirect} from 'react-router-dom'\r\nimport { Modal, Button } from 'antd';\r\nimport PubSub from 'pubsub-js' //引入发布消息\r\n\r\nexport default class Headernav extends Component {\r\n    state={\r\n        data:'', //props对象\r\n        currentTime:formateDate(Date.now()), //当前时间字符串格式\r\n        wethercity:'',\r\n        weather:'',\r\n        WeatherImg:'',\r\n\r\n    }\r\n    logout=()=>{ //用户退出登陆功能\r\n        const { confirm } = Modal;\r\n        confirm({\r\n                title: '是否要确认退出?',\r\n                // icon: <ExclamationCircleOutlined />,\r\n                // content: 'Some descriptions',\r\n                onOk:()=> {\r\n                    console.log('OK',this)\r\n                    // storageUtils.removeUser()\r\n                    // this.props.history.replace('/')\r\n                },\r\n                onCancel() {\r\n                \r\n                },\r\n            });\r\n    }\r\n    getTime=()=>{\r\n        setInterval(()=>{\r\n            //每隔一秒获取时间并跟新状态数据\r\n            const currentTime=formateDate(Date.now())\r\n            this.setState({currentTime})\r\n        },1000)\r\n    }\r\n    getWeather=async()=>{\r\n        const result = await reqWeather(510100)\r\n        this.setState({weather:result.weather})//跟新天气状态\r\n        this.setState({wethercity:result.city})\r\n        // console.log('我是天气',weather)\r\n    }\r\n\r\n    componentDidMount(){ //组件挂载时\r\n        this.getTime()\r\n        this.getWeather()\r\n\r\n        PubSub.subscribe('tiaozhuan2',(msg,data)=>{\r\n            // this.setState({data})\r\n\r\n\r\n            \r\n        })\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        //组件卸载时\r\n    }\r\n    render() {\r\n        const{currentTime,weather,wethercity}=this.state\r\n        return (\r\n            <div className=\"header\">\r\n                <div className=\"header-top\">\r\n                    <span>欢迎:admin</span>\r\n                    <a href=\"javascript:\" onClick={this.logout}>退出</a>\r\n                </div>\r\n                <div className=\"header-bottom\">\r\n                    <div className=\"header-bottom-left\">首页</div>\r\n                    <div className=\"header-bottom-right\">\r\n                        <span>{currentTime}</span>\r\n                        {/* <img src=\"\" alt=\"\" /> */}\r\n                        <span>{wethercity}</span>\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"qi-301\" viewBox=\"0 0 16 16\"><path d=\"M7.012 14.985a1 1 0 0 0 2 0 6.605 6.605 0 0 0-1-2 6.605 6.605 0 0 0-1 2zM3.959 14a1 1 0 0 0 2 0 6.605 6.605 0 0 0-1-2 6.605 6.605 0 0 0-1 2zm6.028 0a1 1 0 0 0 2 0 6.605 6.605 0 0 0-1-2 6.605 6.605 0 0 0-1 2zM5.207 1.904h.007a.5.5 0 0 0 .493-.506L5.695.494a.5.5 0 0 0-.5-.494h-.007a.5.5 0 0 0-.493.506l.012.905a.5.5 0 0 0 .5.493zm-2.892.946a.5.5 0 1 0 .698-.716l-.648-.63a.5.5 0 1 0-.697.715zm-.179 2.203a.5.5 0 0 0-.5-.493h-.007l-.905.011a.5.5 0 0 0 .007 1h.007l.904-.011a.5.5 0 0 0 .494-.507zm5.638-2.12a.5.5 0 0 0 .359-.151l.63-.648a.5.5 0 0 0-.716-.698l-.631.648a.5.5 0 0 0 .358.849z\"/><path d=\"M12.028 5.579a2.927 2.927 0 0 0-.37.037 4.364 4.364 0 0 0-7.316 0 2.926 2.926 0 0 0-.37-.037 2.972 2.972 0 1 0 1.16 5.709 4.302 4.302 0 0 0 5.735 0 2.972 2.972 0 1 0 1.16-5.71zm0 4.944a1.959 1.959 0 0 1-.77-.156 1 1 0 0 0-1.05.168 3.303 3.303 0 0 1-4.417 0 1 1 0 0 0-1.05-.168 1.972 1.972 0 1 1-.769-3.788 1.077 1.077 0 0 1 .15.017l.095.012a1 1 0 0 0 .962-.444 3.364 3.364 0 0 1 5.642 0 1 1 0 0 0 .962.444l.095-.012a1.08 1.08 0 0 1 .15-.017 1.972 1.972 0 1 1 0 3.944zM2.482 5.315A3.53 3.53 0 0 1 3.5 5.027a1.831 1.831 0 0 1 1.81-1.603 1.81 1.81 0 0 1 .553.095 4.933 4.933 0 0 1 1.281-.405A2.82 2.82 0 0 0 2.476 5.26c0 .02.006.037.006.056z\"/></svg>\r\n                        <span>{weather}</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}