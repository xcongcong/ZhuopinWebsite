{"ast":null,"code":"import ajax from './ajax';\nimport jsonp from 'jsonp'; //const取名字\n\nexport const reqLogin = (username, password) => ajax('/login', {\n  username,\n  password\n}, 'POST'); //请求登陆\n//jsonp请求,只能get请求 ，可以跨域不用配置代理\n\nexport const reqWeather = city => {\n  return new Promise((resolve, reject) => {\n    // https://devapi.qweather.com/v7/weather/now?location=101010100&key=79d4de749e65475cae0b024c64d53505\n    // https://devapi.qweather.com/v7/weather/now?location=101010100&key=79d4de749e65475cae0b024c64d53505\n    // const url =`//restapi.amap.com/v3/weather/weatherInfo?key=c53b1f4884bd23213e91e1b1d34cf8e6&city=${city}`\n    const url = `//devapi.qweather.com/v7/weather/now?location=${city}&key=79d4de749e65475cae0b024c64d53505`;\n    jsonp(url, {}, (err, data) => {\n      // console.log(err,data.lives[0])\n      //成功了取出数据\n      console.log(data, err);\n\n      if (!err) {// const {weather,city} =data.lives[0]\n        // resolve({weather,city})\n      } else {//天气请求失败\n      }\n    });\n  });\n};","map":{"version":3,"sources":["D:/前端项目/尚阳互动官网/official-website/src/api/index.js"],"names":["ajax","jsonp","reqLogin","username","password","reqWeather","city","Promise","resolve","reject","url","err","data","console","log"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,QAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CAEA;;AACA,OAAO,MAAMC,QAAQ,GAAG,CAACC,QAAD,EAAUC,QAAV,KAAqBJ,IAAI,CAAC,QAAD,EAAU;AAACG,EAAAA,QAAD;AAAUC,EAAAA;AAAV,CAAV,EAA8B,MAA9B,CAA1C,C,CAAiF;AAKxF;;AACA,OAAO,MAAMC,UAAU,GAAGC,IAAD,IAAQ;AAC7B,SAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAASC,MAAT,KAAkB;AACjC;AACA;AACA;AACA,UAAMC,GAAG,GAAG,iDAAgDJ,IAAK,uCAAjE;AACAL,IAAAA,KAAK,CAACS,GAAD,EAAK,EAAL,EAAQ,CAACC,GAAD,EAAKC,IAAL,KAAY;AACrB;AACA;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ,EAAiBD,GAAjB;;AACA,UAAG,CAACA,GAAJ,EAAQ,CACJ;AACA;AACH,OAHD,MAGK,CACD;AACH;AACJ,KAVI,CAAL;AAWH,GAhBM,CAAP;AAkBH,CAnBM","sourcesContent":["import ajax from './ajax'\r\nimport jsonp from 'jsonp'\r\n\r\n//const取名字\r\nexport const reqLogin = (username,password)=>ajax('/login',{username,password},'POST')  //请求登陆\r\n\r\n\r\n\r\n\r\n//jsonp请求,只能get请求 ，可以跨域不用配置代理\r\nexport const reqWeather =(city)=>{\r\n    return new Promise((resolve,reject)=>{\r\n        // https://devapi.qweather.com/v7/weather/now?location=101010100&key=79d4de749e65475cae0b024c64d53505\r\n        // https://devapi.qweather.com/v7/weather/now?location=101010100&key=79d4de749e65475cae0b024c64d53505\r\n        // const url =`//restapi.amap.com/v3/weather/weatherInfo?key=c53b1f4884bd23213e91e1b1d34cf8e6&city=${city}`\r\n        const url =`//devapi.qweather.com/v7/weather/now?location=${city}&key=79d4de749e65475cae0b024c64d53505`\r\n        jsonp(url,{},(err,data)=>{\r\n            // console.log(err,data.lives[0])\r\n            //成功了取出数据\r\n            console.log(data,err)\r\n            if(!err){\r\n                // const {weather,city} =data.lives[0]\r\n                // resolve({weather,city})\r\n            }else{\r\n                //天气请求失败\r\n            }\r\n        })\r\n    })\r\n    \r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}